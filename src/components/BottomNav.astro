---
import { Home } from "lucide-react";
import { CategoryDialog } from "@/components/CategoryDialog.tsx";
import { SearchButton } from "@/components/SearchButton.tsx";
import { ModeToggle } from "@/components/ModeToggle.tsx";

import type { CategoryCount } from "@/lib/categories";
import type { GardenEntry } from "@/lib/types";

interface Props {
  categories: CategoryCount[];
  entries: GardenEntry[];
}

const { categories, entries } = Astro.props as Props;
---

<div
  class="pointer-events-none fixed inset-x-0 bottom-0 z-30 mx-auto mb-4 flex h-full max-h-14"
>
  <div class="fixed bottom-0 inset-x-0 h-16 w-full mask-gradient-to-top"></div>
  <div
    class="relative z-50 mx-auto flex h-full min-h-full items-center gap-1 rounded-full border border-border bg-background p-2 shadow-md pointer-events-auto"
  >
    <a
      href={import.meta.env.BASE_URL}
      aria-label="Accueil"
      title="Accueil"
      class="inline-flex h-10 w-10 items-center justify-center rounded-full text-sm font-medium text-foreground transition-colors hover:bg-muted focus:outline-none focus:ring-2 focus:ring-ring"
    >
      <Home className="h-5 w-5" />
    </a>

    <CategoryDialog client:load categories={categories} />
    <SearchButton client:load entries={entries} />
    <ModeToggle
      client:load
      variant="ghost"
      className="inline-flex h-10 w-10 items-center justify-center rounded-full text-sm font-medium text-foreground transition-colors hover:bg-muted focus:outline-none focus:ring-2 focus:ring-ring"
    />
  </div>
</div>
