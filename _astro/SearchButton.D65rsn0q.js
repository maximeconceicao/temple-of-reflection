import{c as nt,a as ne,j as b,b as se}from"./utils.sI3-FOzH.js";import{r as h}from"./index.BB0SbgvW.js";import{u as q,P as V,R as st,f as ut,O as it,C as ct,D as ot,d as at,e as lt,g as dt,b as ht,c as ft}from"./categories.Cmuev4HM.js";import"./index.BKWGwx0l.js";/**
 * @license lucide-react v0.508.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Pe=nt("search",mt);var Ie=1,gt=.9,pt=.8,At=.17,fe=.1,me=.999,vt=.9999,Et=.99,xt=/[\\\/_+.#"@\[\(\{&]/,Ct=/[\\\/_+.#"@\[\(\{&]/g,yt=/[\s-]/,Te=/[\s-]/g;function Ae(t,e,r,s,n,u,i){if(u===e.length)return n===t.length?Ie:Et;var c=`${n},${u}`;if(i[c]!==void 0)return i[c];for(var a=s.charAt(u),o=r.indexOf(a,n),d=0,f,p,A,x;o>=0;)f=Ae(t,e,r,s,o+1,u+1,i),f>d&&(o===n?f*=Ie:xt.test(t.charAt(o-1))?(f*=pt,A=t.slice(n,o-1).match(Ct),A&&n>0&&(f*=Math.pow(me,A.length))):yt.test(t.charAt(o-1))?(f*=gt,x=t.slice(n,o-1).match(Te),x&&n>0&&(f*=Math.pow(me,x.length))):(f*=At,n>0&&(f*=Math.pow(me,o-n))),t.charAt(o)!==e.charAt(u)&&(f*=vt)),(f<fe&&r.charAt(o-1)===s.charAt(u+1)||s.charAt(u+1)===s.charAt(u)&&r.charAt(o-1)!==s.charAt(u))&&(p=Ae(t,e,r,s,o+1,u+2,i),p*fe>f&&(f=p*fe)),f>d&&(d=f),o=r.indexOf(a,o+1);return i[c]=d,d}function _e(t){return t.toLowerCase().replace(Te," ")}function bt(t,e,r){return t=r&&r.length>0?`${t+" "+r.join(" ")}`:t,Ae(t,e,_e(t),_e(e),0,0,{})}var re='[cmdk-group=""]',ge='[cmdk-group-items=""]',wt='[cmdk-group-heading=""]',Ke='[cmdk-item=""]',Re=`${Ke}:not([aria-disabled="true"])`,ve="cmdk-item-select",X="data-value",Mt=(t,e,r)=>bt(t,e,r),ze=h.createContext(void 0),ue=()=>h.useContext(ze),We=h.createContext(void 0),Me=()=>h.useContext(We),Ve=h.createContext(void 0),Ge=h.forwardRef((t,e)=>{let r=Z(()=>{var l,v;return{search:"",value:(v=(l=t.value)!=null?l:t.defaultValue)!=null?v:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),s=Z(()=>new Set),n=Z(()=>new Map),u=Z(()=>new Map),i=Z(()=>new Set),c=He(t),{label:a,children:o,value:d,onValueChange:f,filter:p,shouldFilter:A,loop:x,disablePointerSelection:k=!1,vimBindings:D=!0,...B}=t,I=q(),T=q(),$=q(),K=h.useRef(null),w=Lt();U(()=>{if(d!==void 0){let l=d.trim();r.current.value=l,C.emit()}},[d]),U(()=>{w(6,de)},[]);let C=h.useMemo(()=>({subscribe:l=>(i.current.add(l),()=>i.current.delete(l)),snapshot:()=>r.current,setState:(l,v,E)=>{var m,y,M,_;if(!Object.is(r.current[l],v)){if(r.current[l]=v,l==="search")N(),Q(),w(1,H);else if(l==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let S=document.getElementById($);S?S.focus():(m=document.getElementById(I))==null||m.focus()}if(w(7,()=>{var S;r.current.selectedItemId=(S=F())==null?void 0:S.id,C.emit()}),E||w(5,de),((y=c.current)==null?void 0:y.value)!==void 0){let S=v??"";(_=(M=c.current).onValueChange)==null||_.call(M,S);return}}C.emit()}},emit:()=>{i.current.forEach(l=>l())}}),[]),j=h.useMemo(()=>({value:(l,v,E)=>{var m;v!==((m=u.current.get(l))==null?void 0:m.value)&&(u.current.set(l,{value:v,keywords:E}),r.current.filtered.items.set(l,L(v,E)),w(2,()=>{Q(),C.emit()}))},item:(l,v)=>(s.current.add(l),v&&(n.current.has(v)?n.current.get(v).add(l):n.current.set(v,new Set([l]))),w(3,()=>{N(),Q(),r.current.value||H(),C.emit()}),()=>{u.current.delete(l),s.current.delete(l),r.current.filtered.items.delete(l);let E=F();w(4,()=>{N(),E?.getAttribute("id")===l&&H(),C.emit()})}),group:l=>(n.current.has(l)||n.current.set(l,new Set),()=>{u.current.delete(l),n.current.delete(l)}),filter:()=>c.current.shouldFilter,label:a||t["aria-label"],getDisablePointerSelection:()=>c.current.disablePointerSelection,listId:I,inputId:$,labelId:T,listInnerRef:K}),[]);function L(l,v){var E,m;let y=(m=(E=c.current)==null?void 0:E.filter)!=null?m:Mt;return l?y(l,r.current.search,v):0}function Q(){if(!r.current.search||c.current.shouldFilter===!1)return;let l=r.current.filtered.items,v=[];r.current.filtered.groups.forEach(m=>{let y=n.current.get(m),M=0;y.forEach(_=>{let S=l.get(_);M=Math.max(S,M)}),v.push([m,M])});let E=K.current;O().sort((m,y)=>{var M,_;let S=m.getAttribute("id"),ie=y.getAttribute("id");return((M=l.get(ie))!=null?M:0)-((_=l.get(S))!=null?_:0)}).forEach(m=>{let y=m.closest(ge);y?y.appendChild(m.parentElement===y?m:m.closest(`${ge} > *`)):E.appendChild(m.parentElement===E?m:m.closest(`${ge} > *`))}),v.sort((m,y)=>y[1]-m[1]).forEach(m=>{var y;let M=(y=K.current)==null?void 0:y.querySelector(`${re}[${X}="${encodeURIComponent(m[0])}"]`);M?.parentElement.appendChild(M)})}function H(){let l=O().find(E=>E.getAttribute("aria-disabled")!=="true"),v=l?.getAttribute(X);C.setState("value",v||void 0)}function N(){var l,v,E,m;if(!r.current.search||c.current.shouldFilter===!1){r.current.filtered.count=s.current.size;return}r.current.filtered.groups=new Set;let y=0;for(let M of s.current){let _=(v=(l=u.current.get(M))==null?void 0:l.value)!=null?v:"",S=(m=(E=u.current.get(M))==null?void 0:E.keywords)!=null?m:[],ie=L(_,S);r.current.filtered.items.set(M,ie),ie>0&&y++}for(let[M,_]of n.current)for(let S of _)if(r.current.filtered.items.get(S)>0){r.current.filtered.groups.add(M);break}r.current.filtered.count=y}function de(){var l,v,E;let m=F();m&&(((l=m.parentElement)==null?void 0:l.firstChild)===m&&((E=(v=m.closest(re))==null?void 0:v.querySelector(wt))==null||E.scrollIntoView({block:"nearest"})),m.scrollIntoView({block:"nearest"}))}function F(){var l;return(l=K.current)==null?void 0:l.querySelector(`${Ke}[aria-selected="true"]`)}function O(){var l;return Array.from(((l=K.current)==null?void 0:l.querySelectorAll(Re))||[])}function J(l){let v=O()[l];v&&C.setState("value",v.getAttribute(X))}function he(l){var v;let E=F(),m=O(),y=m.findIndex(_=>_===E),M=m[y+l];(v=c.current)!=null&&v.loop&&(M=y+l<0?m[m.length-1]:y+l===m.length?m[0]:m[y+l]),M&&C.setState("value",M.getAttribute(X))}function Fe(l){let v=F(),E=v?.closest(re),m;for(;E&&!m;)E=l>0?jt(E,re):$t(E,re),m=E?.querySelector(Re);m?C.setState("value",m.getAttribute(X)):he(l)}let ke=()=>J(O().length-1),Se=l=>{l.preventDefault(),l.metaKey?ke():l.altKey?Fe(1):he(1)},Be=l=>{l.preventDefault(),l.metaKey?J(0):l.altKey?Fe(-1):he(-1)};return h.createElement(V.div,{ref:e,tabIndex:-1,...B,"cmdk-root":"",onKeyDown:l=>{var v;(v=B.onKeyDown)==null||v.call(B,l);let E=l.nativeEvent.isComposing||l.keyCode===229;if(!(l.defaultPrevented||E))switch(l.key){case"n":case"j":{D&&l.ctrlKey&&Se(l);break}case"ArrowDown":{Se(l);break}case"p":case"k":{D&&l.ctrlKey&&Be(l);break}case"ArrowUp":{Be(l);break}case"Home":{l.preventDefault(),J(0);break}case"End":{l.preventDefault(),ke();break}case"Enter":{l.preventDefault();let m=F();if(m){let y=new Event(ve);m.dispatchEvent(y)}}}}},h.createElement("label",{"cmdk-label":"",htmlFor:j.inputId,id:j.labelId,style:Ot},a),le(t,l=>h.createElement(We.Provider,{value:C},h.createElement(ze.Provider,{value:j},l))))}),Dt=h.forwardRef((t,e)=>{var r,s;let n=q(),u=h.useRef(null),i=h.useContext(Ve),c=ue(),a=He(t),o=(s=(r=a.current)==null?void 0:r.forceMount)!=null?s:i?.forceMount;U(()=>{if(!o)return c.item(n,i?.id)},[o]);let d=Ye(n,u,[t.value,t.children,u],t.keywords),f=Me(),p=W(w=>w.value&&w.value===d.current),A=W(w=>o||c.filter()===!1?!0:w.search?w.filtered.items.get(n)>0:!0);h.useEffect(()=>{let w=u.current;if(!(!w||t.disabled))return w.addEventListener(ve,x),()=>w.removeEventListener(ve,x)},[A,t.onSelect,t.disabled]);function x(){var w,C;k(),(C=(w=a.current).onSelect)==null||C.call(w,d.current)}function k(){f.setState("value",d.current,!0)}if(!A)return null;let{disabled:D,value:B,onSelect:I,forceMount:T,keywords:$,...K}=t;return h.createElement(V.div,{ref:ne(u,e),...K,id:n,"cmdk-item":"",role:"option","aria-disabled":!!D,"aria-selected":!!p,"data-disabled":!!D,"data-selected":!!p,onPointerMove:D||c.getDisablePointerSelection()?void 0:k,onClick:D?void 0:x},t.children)}),Ft=h.forwardRef((t,e)=>{let{heading:r,children:s,forceMount:n,...u}=t,i=q(),c=h.useRef(null),a=h.useRef(null),o=q(),d=ue(),f=W(A=>n||d.filter()===!1?!0:A.search?A.filtered.groups.has(i):!0);U(()=>d.group(i),[]),Ye(i,c,[t.value,t.heading,a]);let p=h.useMemo(()=>({id:i,forceMount:n}),[n]);return h.createElement(V.div,{ref:ne(c,e),...u,"cmdk-group":"",role:"presentation",hidden:f?void 0:!0},r&&h.createElement("div",{ref:a,"cmdk-group-heading":"","aria-hidden":!0,id:o},r),le(t,A=>h.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?o:void 0},h.createElement(Ve.Provider,{value:p},A))))}),kt=h.forwardRef((t,e)=>{let{alwaysRender:r,...s}=t,n=h.useRef(null),u=W(i=>!i.search);return!r&&!u?null:h.createElement(V.div,{ref:ne(n,e),...s,"cmdk-separator":"",role:"separator"})}),St=h.forwardRef((t,e)=>{let{onValueChange:r,...s}=t,n=t.value!=null,u=Me(),i=W(o=>o.search),c=W(o=>o.selectedItemId),a=ue();return h.useEffect(()=>{t.value!=null&&u.setState("search",t.value)},[t.value]),h.createElement(V.input,{ref:e,...s,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":a.listId,"aria-labelledby":a.labelId,"aria-activedescendant":c,id:a.inputId,type:"text",value:n?t.value:i,onChange:o=>{n||u.setState("search",o.target.value),r?.(o.target.value)}})}),Bt=h.forwardRef((t,e)=>{let{children:r,label:s="Suggestions",...n}=t,u=h.useRef(null),i=h.useRef(null),c=W(o=>o.selectedItemId),a=ue();return h.useEffect(()=>{if(i.current&&u.current){let o=i.current,d=u.current,f,p=new ResizeObserver(()=>{f=requestAnimationFrame(()=>{let A=o.offsetHeight;d.style.setProperty("--cmdk-list-height",A.toFixed(1)+"px")})});return p.observe(o),()=>{cancelAnimationFrame(f),p.unobserve(o)}}},[]),h.createElement(V.div,{ref:ne(u,e),...n,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":c,"aria-label":s,id:a.listId},le(t,o=>h.createElement("div",{ref:ne(i,a.listInnerRef),"cmdk-list-sizer":""},o)))}),It=h.forwardRef((t,e)=>{let{open:r,onOpenChange:s,overlayClassName:n,contentClassName:u,container:i,...c}=t;return h.createElement(st,{open:r,onOpenChange:s},h.createElement(ut,{container:i},h.createElement(it,{"cmdk-overlay":"",className:n}),h.createElement(ct,{"aria-label":t.label,"cmdk-dialog":"",className:u},h.createElement(Ge,{ref:e,...c}))))}),_t=h.forwardRef((t,e)=>W(r=>r.filtered.count===0)?h.createElement(V.div,{ref:e,...t,"cmdk-empty":"",role:"presentation"}):null),Rt=h.forwardRef((t,e)=>{let{progress:r,children:s,label:n="Loading...",...u}=t;return h.createElement(V.div,{ref:e,...u,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":n},le(t,i=>h.createElement("div",{"aria-hidden":!0},i)))}),ee=Object.assign(Ge,{List:Bt,Item:Dt,Input:St,Group:Ft,Separator:kt,Dialog:It,Empty:_t,Loading:Rt});function jt(t,e){let r=t.nextElementSibling;for(;r;){if(r.matches(e))return r;r=r.nextElementSibling}}function $t(t,e){let r=t.previousElementSibling;for(;r;){if(r.matches(e))return r;r=r.previousElementSibling}}function He(t){let e=h.useRef(t);return U(()=>{e.current=t}),e}var U=typeof window>"u"?h.useEffect:h.useLayoutEffect;function Z(t){let e=h.useRef();return e.current===void 0&&(e.current=t()),e}function W(t){let e=Me(),r=()=>t(e.snapshot());return h.useSyncExternalStore(e.subscribe,r,r)}function Ye(t,e,r,s=[]){let n=h.useRef(),u=ue();return U(()=>{var i;let c=(()=>{var o;for(let d of r){if(typeof d=="string")return d.trim();if(typeof d=="object"&&"current"in d)return d.current?(o=d.current.textContent)==null?void 0:o.trim():n.current}})(),a=s.map(o=>o.trim());u.value(t,c,a),(i=e.current)==null||i.setAttribute(X,c),n.current=c}),n}var Lt=()=>{let[t,e]=h.useState(),r=Z(()=>new Map);return U(()=>{r.current.forEach(s=>s()),r.current=new Map},[t]),(s,n)=>{r.current.set(s,n),e({})}};function Nt(t){let e=t.type;return typeof e=="function"?e(t.props):"render"in e?e.render(t.props):t}function le({asChild:t,children:e},r){return t&&h.isValidElement(e)?h.cloneElement(Nt(e),{ref:e.ref},r(e.props.children)):r(e)}var Ot={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};function Pt({className:t,...e}){return b.jsx(ee,{"data-slot":"command",className:se("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",t),...e})}function Tt({title:t="Command Palette",description:e="Search for a command to run...",children:r,...s}){return b.jsxs(ot,{...s,children:[b.jsxs(at,{className:"sr-only",children:[b.jsx(lt,{children:t}),b.jsx(dt,{children:e})]}),b.jsx(ht,{className:"overflow-hidden p-0",children:b.jsx(Pt,{className:"[&_[cmdk-group-heading]]:text-muted-foreground **:data-[slot=command-input-wrapper]:h-12 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group]]:px-2 [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5",children:r})})]})}function Kt({className:t,...e}){return b.jsxs("div",{"data-slot":"command-input-wrapper",className:"flex h-9 items-center gap-2 border-b px-3",children:[b.jsx(Pe,{className:"size-4 shrink-0 opacity-50"}),b.jsx(ee.Input,{"data-slot":"command-input",className:se("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",t),...e})]})}function zt({className:t,...e}){return b.jsx(ee.List,{"data-slot":"command-list",className:se("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",t),...e})}function Wt({...t}){return b.jsx(ee.Empty,{"data-slot":"command-empty",className:"py-6 text-center text-sm",...t})}function Vt({className:t,...e}){return b.jsx(ee.Group,{"data-slot":"command-group",className:se("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",t),...e})}function Gt({className:t,...e}){return b.jsx(ee.Item,{"data-slot":"command-item",className:se("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...e})}function z(t){return Array.isArray?Array.isArray(t):Je(t)==="[object Array]"}function Ht(t){if(typeof t=="string")return t;let e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function Yt(t){return t==null?"":Ht(t)}function P(t){return typeof t=="string"}function Ue(t){return typeof t=="number"}function Ut(t){return t===!0||t===!1||Qt(t)&&Je(t)=="[object Boolean]"}function Qe(t){return typeof t=="object"}function Qt(t){return Qe(t)&&t!==null}function R(t){return t!=null}function pe(t){return!t.trim().length}function Je(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const Jt="Incorrect 'index' type",Xt=t=>`Invalid value for key ${t}`,Zt=t=>`Pattern length exceeds max of ${t}.`,qt=t=>`Missing ${t} property in key`,er=t=>`Property 'weight' in key '${t}' must be a positive integer`,je=Object.prototype.hasOwnProperty;class tr{constructor(e){this._keys=[],this._keyMap={};let r=0;e.forEach(s=>{let n=Xe(s);this._keys.push(n),this._keyMap[n.id]=n,r+=n.weight}),this._keys.forEach(s=>{s.weight/=r})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function Xe(t){let e=null,r=null,s=null,n=1,u=null;if(P(t)||z(t))s=t,e=$e(t),r=Ee(t);else{if(!je.call(t,"name"))throw new Error(qt("name"));const i=t.name;if(s=i,je.call(t,"weight")&&(n=t.weight,n<=0))throw new Error(er(i));e=$e(i),r=Ee(i),u=t.getFn}return{path:e,id:r,weight:n,src:s,getFn:u}}function $e(t){return z(t)?t:t.split(".")}function Ee(t){return z(t)?t.join("."):t}function rr(t,e){let r=[],s=!1;const n=(u,i,c)=>{if(R(u))if(!i[c])r.push(u);else{let a=i[c];const o=u[a];if(!R(o))return;if(c===i.length-1&&(P(o)||Ue(o)||Ut(o)))r.push(Yt(o));else if(z(o)){s=!0;for(let d=0,f=o.length;d<f;d+=1)n(o[d],i,c+1)}else i.length&&n(o,i,c+1)}};return n(t,P(e)?e.split("."):e,0),s?r:r[0]}const nr={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},sr={isCaseSensitive:!1,ignoreDiacritics:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(t,e)=>t.score===e.score?t.idx<e.idx?-1:1:t.score<e.score?-1:1},ur={location:0,threshold:.6,distance:100},ir={useExtendedSearch:!1,getFn:rr,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var g={...sr,...nr,...ur,...ir};const cr=/[^ ]+/g;function or(t=1,e=3){const r=new Map,s=Math.pow(10,e);return{get(n){const u=n.match(cr).length;if(r.has(u))return r.get(u);const i=1/Math.pow(u,.5*t),c=parseFloat(Math.round(i*s)/s);return r.set(u,c),c},clear(){r.clear()}}}class De{constructor({getFn:e=g.getFn,fieldNormWeight:r=g.fieldNormWeight}={}){this.norm=or(r,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((r,s)=>{this._keysMap[r.id]=s})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,P(this.docs[0])?this.docs.forEach((e,r)=>{this._addString(e,r)}):this.docs.forEach((e,r)=>{this._addObject(e,r)}),this.norm.clear())}add(e){const r=this.size();P(e)?this._addString(e,r):this._addObject(e,r)}removeAt(e){this.records.splice(e,1);for(let r=e,s=this.size();r<s;r+=1)this.records[r].i-=1}getValueForItemAtKeyId(e,r){return e[this._keysMap[r]]}size(){return this.records.length}_addString(e,r){if(!R(e)||pe(e))return;let s={v:e,i:r,n:this.norm.get(e)};this.records.push(s)}_addObject(e,r){let s={i:r,$:{}};this.keys.forEach((n,u)=>{let i=n.getFn?n.getFn(e):this.getFn(e,n.path);if(R(i)){if(z(i)){let c=[];const a=[{nestedArrIndex:-1,value:i}];for(;a.length;){const{nestedArrIndex:o,value:d}=a.pop();if(R(d))if(P(d)&&!pe(d)){let f={v:d,i:o,n:this.norm.get(d)};c.push(f)}else z(d)&&d.forEach((f,p)=>{a.push({nestedArrIndex:p,value:f})})}s.$[u]=c}else if(P(i)&&!pe(i)){let c={v:i,n:this.norm.get(i)};s.$[u]=c}}}),this.records.push(s)}toJSON(){return{keys:this.keys,records:this.records}}}function Ze(t,e,{getFn:r=g.getFn,fieldNormWeight:s=g.fieldNormWeight}={}){const n=new De({getFn:r,fieldNormWeight:s});return n.setKeys(t.map(Xe)),n.setSources(e),n.create(),n}function ar(t,{getFn:e=g.getFn,fieldNormWeight:r=g.fieldNormWeight}={}){const{keys:s,records:n}=t,u=new De({getFn:e,fieldNormWeight:r});return u.setKeys(s),u.setIndexRecords(n),u}function ce(t,{errors:e=0,currentLocation:r=0,expectedLocation:s=0,distance:n=g.distance,ignoreLocation:u=g.ignoreLocation}={}){const i=e/t.length;if(u)return i;const c=Math.abs(s-r);return n?i+c/n:c?1:i}function lr(t=[],e=g.minMatchCharLength){let r=[],s=-1,n=-1,u=0;for(let i=t.length;u<i;u+=1){let c=t[u];c&&s===-1?s=u:!c&&s!==-1&&(n=u-1,n-s+1>=e&&r.push([s,n]),s=-1)}return t[u-1]&&u-s>=e&&r.push([s,u-1]),r}const Y=32;function dr(t,e,r,{location:s=g.location,distance:n=g.distance,threshold:u=g.threshold,findAllMatches:i=g.findAllMatches,minMatchCharLength:c=g.minMatchCharLength,includeMatches:a=g.includeMatches,ignoreLocation:o=g.ignoreLocation}={}){if(e.length>Y)throw new Error(Zt(Y));const d=e.length,f=t.length,p=Math.max(0,Math.min(s,f));let A=u,x=p;const k=c>1||a,D=k?Array(f):[];let B;for(;(B=t.indexOf(e,x))>-1;){let C=ce(e,{currentLocation:B,expectedLocation:p,distance:n,ignoreLocation:o});if(A=Math.min(C,A),x=B+d,k){let j=0;for(;j<d;)D[B+j]=1,j+=1}}x=-1;let I=[],T=1,$=d+f;const K=1<<d-1;for(let C=0;C<d;C+=1){let j=0,L=$;for(;j<L;)ce(e,{errors:C,currentLocation:p+L,expectedLocation:p,distance:n,ignoreLocation:o})<=A?j=L:$=L,L=Math.floor(($-j)/2+j);$=L;let Q=Math.max(1,p-L+1),H=i?f:Math.min(p+L,f)+d,N=Array(H+2);N[H+1]=(1<<C)-1;for(let F=H;F>=Q;F-=1){let O=F-1,J=r[t.charAt(O)];if(k&&(D[O]=+!!J),N[F]=(N[F+1]<<1|1)&J,C&&(N[F]|=(I[F+1]|I[F])<<1|1|I[F+1]),N[F]&K&&(T=ce(e,{errors:C,currentLocation:O,expectedLocation:p,distance:n,ignoreLocation:o}),T<=A)){if(A=T,x=O,x<=p)break;Q=Math.max(1,2*p-x)}}if(ce(e,{errors:C+1,currentLocation:p,expectedLocation:p,distance:n,ignoreLocation:o})>A)break;I=N}const w={isMatch:x>=0,score:Math.max(.001,T)};if(k){const C=lr(D,c);C.length?a&&(w.indices=C):w.isMatch=!1}return w}function hr(t){let e={};for(let r=0,s=t.length;r<s;r+=1){const n=t.charAt(r);e[n]=(e[n]||0)|1<<s-r-1}return e}const oe=String.prototype.normalize?t=>t.normalize("NFD").replace(/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C04\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u192B\u1930-\u193B\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F]/g,""):t=>t;class qe{constructor(e,{location:r=g.location,threshold:s=g.threshold,distance:n=g.distance,includeMatches:u=g.includeMatches,findAllMatches:i=g.findAllMatches,minMatchCharLength:c=g.minMatchCharLength,isCaseSensitive:a=g.isCaseSensitive,ignoreDiacritics:o=g.ignoreDiacritics,ignoreLocation:d=g.ignoreLocation}={}){if(this.options={location:r,threshold:s,distance:n,includeMatches:u,findAllMatches:i,minMatchCharLength:c,isCaseSensitive:a,ignoreDiacritics:o,ignoreLocation:d},e=a?e:e.toLowerCase(),e=o?oe(e):e,this.pattern=e,this.chunks=[],!this.pattern.length)return;const f=(A,x)=>{this.chunks.push({pattern:A,alphabet:hr(A),startIndex:x})},p=this.pattern.length;if(p>Y){let A=0;const x=p%Y,k=p-x;for(;A<k;)f(this.pattern.substr(A,Y),A),A+=Y;if(x){const D=p-Y;f(this.pattern.substr(D),D)}}else f(this.pattern,0)}searchIn(e){const{isCaseSensitive:r,ignoreDiacritics:s,includeMatches:n}=this.options;if(e=r?e:e.toLowerCase(),e=s?oe(e):e,this.pattern===e){let k={isMatch:!0,score:0};return n&&(k.indices=[[0,e.length-1]]),k}const{location:u,distance:i,threshold:c,findAllMatches:a,minMatchCharLength:o,ignoreLocation:d}=this.options;let f=[],p=0,A=!1;this.chunks.forEach(({pattern:k,alphabet:D,startIndex:B})=>{const{isMatch:I,score:T,indices:$}=dr(e,k,D,{location:u+B,distance:i,threshold:c,findAllMatches:a,minMatchCharLength:o,includeMatches:n,ignoreLocation:d});I&&(A=!0),p+=T,I&&$&&(f=[...f,...$])});let x={isMatch:A,score:A?p/this.chunks.length:1};return A&&n&&(x.indices=f),x}}class G{constructor(e){this.pattern=e}static isMultiMatch(e){return Le(e,this.multiRegex)}static isSingleMatch(e){return Le(e,this.singleRegex)}search(){}}function Le(t,e){const r=t.match(e);return r?r[1]:null}class fr extends G{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const r=e===this.pattern;return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}}class mr extends G{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const s=e.indexOf(this.pattern)===-1;return{isMatch:s,score:s?0:1,indices:[0,e.length-1]}}}class gr extends G{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const r=e.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}}class pr extends G{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const r=!e.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,e.length-1]}}}class Ar extends G{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const r=e.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}class vr extends G{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const r=!e.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,e.length-1]}}}class et extends G{constructor(e,{location:r=g.location,threshold:s=g.threshold,distance:n=g.distance,includeMatches:u=g.includeMatches,findAllMatches:i=g.findAllMatches,minMatchCharLength:c=g.minMatchCharLength,isCaseSensitive:a=g.isCaseSensitive,ignoreDiacritics:o=g.ignoreDiacritics,ignoreLocation:d=g.ignoreLocation}={}){super(e),this._bitapSearch=new qe(e,{location:r,threshold:s,distance:n,includeMatches:u,findAllMatches:i,minMatchCharLength:c,isCaseSensitive:a,ignoreDiacritics:o,ignoreLocation:d})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class tt extends G{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let r=0,s;const n=[],u=this.pattern.length;for(;(s=e.indexOf(this.pattern,r))>-1;)r=s+u,n.push([s,r-1]);const i=!!n.length;return{isMatch:i,score:i?0:1,indices:n}}}const xe=[fr,tt,gr,pr,vr,Ar,mr,et],Ne=xe.length,Er=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,xr="|";function Cr(t,e={}){return t.split(xr).map(r=>{let s=r.trim().split(Er).filter(u=>u&&!!u.trim()),n=[];for(let u=0,i=s.length;u<i;u+=1){const c=s[u];let a=!1,o=-1;for(;!a&&++o<Ne;){const d=xe[o];let f=d.isMultiMatch(c);f&&(n.push(new d(f,e)),a=!0)}if(!a)for(o=-1;++o<Ne;){const d=xe[o];let f=d.isSingleMatch(c);if(f){n.push(new d(f,e));break}}}return n})}const yr=new Set([et.type,tt.type]);class br{constructor(e,{isCaseSensitive:r=g.isCaseSensitive,ignoreDiacritics:s=g.ignoreDiacritics,includeMatches:n=g.includeMatches,minMatchCharLength:u=g.minMatchCharLength,ignoreLocation:i=g.ignoreLocation,findAllMatches:c=g.findAllMatches,location:a=g.location,threshold:o=g.threshold,distance:d=g.distance}={}){this.query=null,this.options={isCaseSensitive:r,ignoreDiacritics:s,includeMatches:n,minMatchCharLength:u,findAllMatches:c,ignoreLocation:i,location:a,threshold:o,distance:d},e=r?e:e.toLowerCase(),e=s?oe(e):e,this.pattern=e,this.query=Cr(this.pattern,this.options)}static condition(e,r){return r.useExtendedSearch}searchIn(e){const r=this.query;if(!r)return{isMatch:!1,score:1};const{includeMatches:s,isCaseSensitive:n,ignoreDiacritics:u}=this.options;e=n?e:e.toLowerCase(),e=u?oe(e):e;let i=0,c=[],a=0;for(let o=0,d=r.length;o<d;o+=1){const f=r[o];c.length=0,i=0;for(let p=0,A=f.length;p<A;p+=1){const x=f[p],{isMatch:k,indices:D,score:B}=x.search(e);if(k){if(i+=1,a+=B,s){const I=x.constructor.type;yr.has(I)?c=[...c,...D]:c.push(D)}}else{a=0,i=0,c.length=0;break}}if(i){let p={isMatch:!0,score:a/i};return s&&(p.indices=c),p}}return{isMatch:!1,score:1}}}const Ce=[];function wr(...t){Ce.push(...t)}function ye(t,e){for(let r=0,s=Ce.length;r<s;r+=1){let n=Ce[r];if(n.condition(t,e))return new n(t,e)}return new qe(t,e)}const ae={AND:"$and",OR:"$or"},be={PATH:"$path",PATTERN:"$val"},we=t=>!!(t[ae.AND]||t[ae.OR]),Mr=t=>!!t[be.PATH],Dr=t=>!z(t)&&Qe(t)&&!we(t),Oe=t=>({[ae.AND]:Object.keys(t).map(e=>({[e]:t[e]}))});function rt(t,e,{auto:r=!0}={}){const s=n=>{let u=Object.keys(n);const i=Mr(n);if(!i&&u.length>1&&!we(n))return s(Oe(n));if(Dr(n)){const a=i?n[be.PATH]:u[0],o=i?n[be.PATTERN]:n[a];if(!P(o))throw new Error(Xt(a));const d={keyId:Ee(a),pattern:o};return r&&(d.searcher=ye(o,e)),d}let c={children:[],operator:u[0]};return u.forEach(a=>{const o=n[a];z(o)&&o.forEach(d=>{c.children.push(s(d))})}),c};return we(t)||(t=Oe(t)),s(t)}function Fr(t,{ignoreFieldNorm:e=g.ignoreFieldNorm}){t.forEach(r=>{let s=1;r.matches.forEach(({key:n,norm:u,score:i})=>{const c=n?n.weight:null;s*=Math.pow(i===0&&c?Number.EPSILON:i,(c||1)*(e?1:u))}),r.score=s})}function kr(t,e){const r=t.matches;e.matches=[],R(r)&&r.forEach(s=>{if(!R(s.indices)||!s.indices.length)return;const{indices:n,value:u}=s;let i={indices:n,value:u};s.key&&(i.key=s.key.src),s.idx>-1&&(i.refIndex=s.idx),e.matches.push(i)})}function Sr(t,e){e.score=t.score}function Br(t,e,{includeMatches:r=g.includeMatches,includeScore:s=g.includeScore}={}){const n=[];return r&&n.push(kr),s&&n.push(Sr),t.map(u=>{const{idx:i}=u,c={item:e[i],refIndex:i};return n.length&&n.forEach(a=>{a(u,c)}),c})}class te{constructor(e,r={},s){this.options={...g,...r},this.options.useExtendedSearch,this._keyStore=new tr(this.options.keys),this.setCollection(e,s)}setCollection(e,r){if(this._docs=e,r&&!(r instanceof De))throw new Error(Jt);this._myIndex=r||Ze(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){R(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){const r=[];for(let s=0,n=this._docs.length;s<n;s+=1){const u=this._docs[s];e(u,s)&&(this.removeAt(s),s-=1,n-=1,r.push(u))}return r}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:r=-1}={}){const{includeMatches:s,includeScore:n,shouldSort:u,sortFn:i,ignoreFieldNorm:c}=this.options;let a=P(e)?P(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return Fr(a,{ignoreFieldNorm:c}),u&&a.sort(i),Ue(r)&&r>-1&&(a=a.slice(0,r)),Br(a,this._docs,{includeMatches:s,includeScore:n})}_searchStringList(e){const r=ye(e,this.options),{records:s}=this._myIndex,n=[];return s.forEach(({v:u,i,n:c})=>{if(!R(u))return;const{isMatch:a,score:o,indices:d}=r.searchIn(u);a&&n.push({item:u,idx:i,matches:[{score:o,value:u,norm:c,indices:d}]})}),n}_searchLogical(e){const r=rt(e,this.options),s=(c,a,o)=>{if(!c.children){const{keyId:f,searcher:p}=c,A=this._findMatches({key:this._keyStore.get(f),value:this._myIndex.getValueForItemAtKeyId(a,f),searcher:p});return A&&A.length?[{idx:o,item:a,matches:A}]:[]}const d=[];for(let f=0,p=c.children.length;f<p;f+=1){const A=c.children[f],x=s(A,a,o);if(x.length)d.push(...x);else if(c.operator===ae.AND)return[]}return d},n=this._myIndex.records,u={},i=[];return n.forEach(({$:c,i:a})=>{if(R(c)){let o=s(r,c,a);o.length&&(u[a]||(u[a]={idx:a,item:c,matches:[]},i.push(u[a])),o.forEach(({matches:d})=>{u[a].matches.push(...d)}))}}),i}_searchObjectList(e){const r=ye(e,this.options),{keys:s,records:n}=this._myIndex,u=[];return n.forEach(({$:i,i:c})=>{if(!R(i))return;let a=[];s.forEach((o,d)=>{a.push(...this._findMatches({key:o,value:i[d],searcher:r}))}),a.length&&u.push({idx:c,item:i,matches:a})}),u}_findMatches({key:e,value:r,searcher:s}){if(!R(r))return[];let n=[];if(z(r))r.forEach(({v:u,i,n:c})=>{if(!R(u))return;const{isMatch:a,score:o,indices:d}=s.searchIn(u);a&&n.push({score:o,key:e,value:u,idx:i,norm:c,indices:d})});else{const{v:u,n:i}=r,{isMatch:c,score:a,indices:o}=s.searchIn(u);c&&n.push({score:a,key:e,value:u,norm:i,indices:o})}return n}}te.version="7.1.0";te.createIndex=Ze;te.parseIndex=ar;te.config=g;te.parseQuery=rt;wr(br);function Ir({entries:t,open:e,setOpen:r}){const[s,n]=h.useState(""),[u,i]=h.useState(t),c=h.useMemo(()=>new te(t,{keys:["data.title","data.category"],threshold:.5}),[t]);return h.useEffect(()=>{if(!s)i(t);else{const a=c.search(s).map(o=>o.item);i(a)}},[s,c]),b.jsxs(Tt,{open:e,onOpenChange:r,children:[b.jsx(Kt,{placeholder:"Rechercher une note...",onValueChange:n}),b.jsxs(zt,{children:[b.jsx(Wt,{children:"Aucune note trouvée."}),b.jsx(Vt,{heading:s?"Résultat(s)":"Dernières notes",children:u.map(a=>b.jsxs(Gt,{onSelect:()=>{r(!1),window.location.href=`/temple-of-reflection/${a.data.category}/${a.slug}`},children:[b.jsx("span",{children:a.data.title}),b.jsxs("span",{className:"ml-auto text-muted-foreground text-sm",children:["[",ft[a.data.category].label,"]"]})]},a.slug))})]})]})}function Lr({entries:t}){const[e,r]=h.useState(!1);return h.useEffect(()=>{const s=n=>{n.key==="k"&&(n.metaKey||n.ctrlKey)&&(n.preventDefault(),r(u=>!u))};return document.addEventListener("keydown",s),()=>document.removeEventListener("keydown",s)},[]),b.jsxs(b.Fragment,{children:[b.jsx("button",{onClick:()=>r(!0),className:"inline-flex h-10 w-10 items-center justify-center rounded-full text-sm font-medium text-foreground transition-colors hover:bg-muted focus:outline-none focus:ring-2 focus:ring-ring","aria-label":"Search",title:"Search",children:b.jsx(Pe,{className:"h-5 w-5"})}),b.jsx(Ir,{open:e,setOpen:r,entries:t})]})}export{Lr as SearchButton};
